[
  # size, agents (x,y), taps(x,y), plants(x,y,pour)
  [4, [[1,3]], [[4,4]], [[2,2,4]]], # 4_1_1
  [4, [[3,1]], [[1,1]], [[3,3,9]]], # 4_1_2
  [4, [[2,1]], [[3,3]], [[2,2,6]]], # 4_1_3
  [4, [[4,2]], [[4,4]], [[3,3,4],[3,3,2]]], # 4_2_1
  [4, [[1,4]], [[2,2]], [[1,1,5],[2,2,10]]], # 4_2_2
  [4, [[2,3]], [[2,2]], [[3,3,10],[4,4,3]]], # 4_2_3
  [4, [[3,1]], [[1,1]], [[2,2,4],[3,3,2],[1,1,7]]], # 4_3_1
  [4, [[2,3]], [[3,3]], [[4,4,7],[2,2,10],[2,2,3]]], # 4_3_2
  [4, [[1,2]], [[4,4]], [[3,3,3],[3,3,9],[2,2,9]]], # 4_3_3
  [5, [[2,2]], [[4,4]], [[3,3,3]]], # 5_1_1
  [5, [[3,3]], [[2,2]], [[5,5,10]]], # 5_1_2
  [5, [[4,2]], [[5,5]], [[1,1,9]]], # 5_1_3
  [5, [[4,3]], [[4,4]], [[1,1,7],[5,5,3]]], # 5_2_1
  [5, [[5,2]], [[3,3]], [[2,2,10],[4,4,5]]], # 5_2_2
  [5, [[1,4]], [[4,4]], [[4,4,9],[2,2,2]]], # 5_2_3
  [5, [[4,3]], [[4,4]], [[2,2,7],[1,1,4],[1,1,10]]], # 5_3_1
  [5, [[1,3]], [[2,2]], [[4,4,2],[1,1,3],[3,3,1]]], # 5_3_2
  [5, [[4,3]], [[1,1]], [[5,5,5],[5,5,5],[3,3,4]]], # 5_3_3
  [6, [[3,6]], [[3,3]], [[5,5,10]]], # 6_1_1
  [6, [[6,6]], [[6,6]], [[2,2,10]]], # 6_1_2
  [6, [[1,5]], [[2,2]], [[2,2,4]]], # 6_1_3
  [6, [[2,6]], [[1,1]], [[1,1,2],[2,2,2]]], # 6_2_1
  [6, [[4,6]], [[3,3]], [[3,3,4],[6,6,9]]], # 6_2_2
  [6, [[6,1]], [[4,4]], [[3,3,2],[1,1,7]]], # 6_2_3
  [6, [[3,6]], [[4,4]], [[4,4,8],[1,1,10],[6,6,5]]], # 6_3_1
  [6, [[4,2]], [[5,5]], [[2,2,4],[4,4,10],[1,1,7]]], # 6_3_2
  [6, [[2,3]], [[4,4]], [[6,6,1],[1,1,4],[6,6,6]]], # 6_3_3
  [7, [[1,5]], [[2,2]], [[2,2,1]]], # 7_1_1
  [7, [[4,3]], [[2,2]], [[3,3,9]]], # 7_1_2
  [7, [[7,6]], [[6,6]], [[1,1,9]]], # 7_1_3
  [7, [[5,6]], [[3,3]], [[6,6,6],[6,6,5]]], # 7_2_1
  [7, [[7,5]], [[6,6]], [[3,3,7],[4,4,5]]], # 7_2_2
  [7, [[1,4]], [[1,1]], [[7,7,5],[3,3,3]]], # 7_2_3
  [7, [[5,6]], [[2,2]], [[2,2,3],[7,7,4],[5,5,2]]], # 7_3_1
  [7, [[2,6]], [[7,7]], [[3,3,2],[5,5,1],[2,2,4]]], # 7_3_2
  [7, [[7,1]], [[1,1]], [[5,5,7],[5,5,10],[2,2,4]]], # 7_3_3
  [8, [[8,6]], [[5,5]], [[5,5,7]]], # 8_1_1
  [8, [[6,6]], [[4,4]], [[5,5,1]]], # 8_1_2
  [8, [[7,6]], [[6,6]], [[5,5,10]]], # 8_1_3
  [8, [[1,3]], [[6,6]], [[3,3,6],[4,4,3]]], # 8_2_1
  [8, [[3,8]], [[3,3]], [[8,8,2],[2,2,9]]], # 8_2_2
  [8, [[4,2]], [[8,8]], [[5,5,1],[4,4,4]]], # 8_2_3
  [8, [[7,7]], [[4,4]], [[6,6,2],[3,3,2],[5,5,6]]], # 8_3_1
  [8, [[4,3]], [[8,8]], [[6,6,6],[2,2,7],[7,7,5]]], # 8_3_2
  [8, [[6,6]], [[3,3]], [[2,2,6],[6,6,2],[1,1,9]]], # 8_3_3
  [9, [[5,3]], [[1,1]], [[2,2,7]]], # 9_1_1
  [9, [[4,3]], [[2,2]], [[5,5,1]]], # 9_1_2
  [9, [[5,9]], [[9,9]], [[8,8,1]]], # 9_1_3
  [9, [[9,9]], [[3,3]], [[8,8,7],[1,1,10]]], # 9_2_1
  [9, [[2,6]], [[2,2]], [[5,5,8],[9,9,4]]], # 9_2_2
  [9, [[9,3]], [[4,4]], [[5,5,7],[4,4,3]]], # 9_2_3
  [9, [[6,1]], [[1,1]], [[3,3,3],[9,9,2],[9,9,3]]], # 9_3_1
  [9, [[9,3]], [[7,7]], [[9,9,4],[6,6,8],[3,3,4]]], # 9_3_2
  [9, [[8,8]], [[1,1]], [[6,6,8],[9,9,6],[8,8,6]]], # 9_3_3
  [10, [[3,1]], [[2,2]], [[3,3,9]]], # 10_1_1
  [10, [[9,8]], [[2,2]], [[3,3,9]]], # 10_1_2
  [10, [[2,6]], [[3,3]], [[1,1,8]]], # 10_1_3
  [10, [[9,4]], [[4,4]], [[3,3,6],[2,2,7]]], # 10_2_1
  [10, [[5,8]], [[6,6]], [[9,9,8],[2,2,10]]], # 10_2_2
  [10, [[5,7]], [[9,9]], [[2,2,9],[7,7,6]]], # 10_2_3
  [10, [[8,9]], [[1,1]], [[4,4,10],[10,10,10],[7,7,6]]], # 10_3_1
  [10, [[1,7]], [[4,4]], [[7,7,3],[9,9,2],[6,6,2]]], # 10_3_2
  [10, [[10,9]], [[9,9]], [[1,1,6],[6,6,10],[7,7,7]]], # 10_3_3
].each_with_index {|(size,agents,taps,plants),counter|
  problem = "(defproblem pb#{counter += 1} plant_watering
  (
    (function max_int #{plants.size * 20})
    (function minx 1) (function maxx #{size})
    (function miny 1) (function maxy #{size})
    (function carrying 0)
    (function total_poured 0)
    (function total_loaded 0)"
  agents.each_with_index {|(x,y),i| problem << "\n    (agent agent#{i})\n    (function (x agent#{i}) #{x})\n    (function (y agent#{i}) #{y})"}
  taps.each_with_index {|(x,y),i| problem << "\n    (tap tap#{i})\n    (function (x tap#{i}) #{x})\n    (function (y tap#{i}) #{y})"}
  plants.each_with_index {|(x,y,pour),i| problem << "\n    (plant plant#{i})\n    (function (x plant#{i}) #{x})\n    (function (y plant#{i}) #{y})\n    (function (poured plant#{i}) 0)"}
  problem << "\n  )\n  ("
  plants.each_with_index {|(x,y,pour),i| problem << "\n   (move_to_load_before_move_to_pour plant#{i} #{pour})"}
  IO.binwrite(File.expand_path("../pb#{counter}.ujshop", __FILE__), problem << "\n  )\n)")
  counter += 1
}